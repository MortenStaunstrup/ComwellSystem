@using ComwellWeb.Komponents.Modal
@using Core;
@page "/MyTeams"


<h3>Mine hold</h3>

<div class="team-container">
    @foreach (var team in Teams)
    {
        <div class="team-card">
            <div class="team-content">
                <div class="team-details">
                    <div class="team-name"><strong>Holdnavn:</strong> @team.Name</div>
                    <div class="team-count"><strong>Antal elever:</strong> @team.StudentCount</div>
                </div>
                <div class="team-actions">
                    <button @onclick="@(() => OpenTeamModal(team))">GÃ¥ til hold</button>
                </div>
            </div>
        </div>
    }
</div>

<TeamPageModal Visible="ShowTeamModal" team="SelectedTeam" OnCloseRequested="CloseTeamModal" />

@code {
    private bool ShowTeamModal = false;
    private Team? SelectedTeam;

    private void OpenTeamModal(Team team)
    {
        SelectedTeam = team;
        ShowTeamModal = true;
    }

    private void CloseTeamModal()
    {
        ShowTeamModal = false;
        SelectedTeam = null;
    }
    private List<Team> Teams = new List<Team>
    {
        new Team { Id = 1, Name = "1A", StudentCount = 12 },
        new Team { Id = 2, Name = "2A", StudentCount = 7 },
        new Team { Id = 3, Name = "4A", StudentCount = 9 },
        new Team { Id = 4, Name = "5B", StudentCount = 6 },
        new Team { Id = 5, Name = "4C", StudentCount = 12 },
        new Team { Id = 6, Name = "3A", StudentCount = 10 },
        new Team { Id = 7, Name = "1B", StudentCount = 10 },
        new Team { Id = 8, Name = "2C", StudentCount = 6 }
    };

    private class Team
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public int StudentCount { get; set; }
    }
}
